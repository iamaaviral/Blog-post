(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{27:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){},39:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){"use strict";s.r(t);var c=s(10),n=s(1),a=s.n(n),r=s(21),i=s.n(r),o=(s(27),s(2)),l=s(11),d=s(12),h=s(14),u=s(13),j=s(0),p=a.a.createContext("blog"),m=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={user:[],posts:[],selectedUserId:0,selectedPostId:0,searchTerm:"",setUser:function(e){c.setState({user:e})},setUserPosts:function(e){c.setState({posts:e})},setSelectedUserId:function(e){c.setState({selectedUserId:e})},setSelectedPostId:function(e){c.setState({selectedPostId:e})},setSearchTerm:function(e){c.setState({searchTerm:e})}},c}return Object(d.a)(s,[{key:"render",value:function(){return Object(j.jsx)(p.Provider,{value:this.state,children:this.props.children})}}]),s}(a.a.Component),b=Object(o.e)(m),f=function(e,t){return Object(j.jsx)(p.Consumer,{children:function(s){return Object(j.jsx)(e,Object(c.a)(Object(c.a)({},s),t))}})},O=(s(34),s(35),Object(o.e)((function(e){return Object(j.jsx)("div",{className:"user-container",children:e.user.map((function(t){var s=t.name.toUpperCase(),c=t.company.name.toUpperCase();if(s.includes(e.searchTerm.toUpperCase())||c.includes(e.searchTerm.toUpperCase()))return Object(j.jsxs)("div",{className:"each-user-wrapper",children:[Object(j.jsxs)("div",{className:"user-detail",children:[Object(j.jsx)("div",{className:"user-name",children:t.name}),Object(j.jsx)("div",{className:"user-company",children:t.company.name})]}),Object(j.jsx)("div",{title:"view blog posts",className:"view-btn hoverable",onClick:function(s){e.setSelectedUserId(t.id),e.history.push("/app/Posts")},children:"view Posts"})]},t.id)}))})}))),v=(s(36),Object(o.e)((function(e){return a.a.useEffect((function(){fetch("https://jsonplaceholder.typicode.com/posts?"+"userId=".concat(e.selectedUserId,"&skip=",0,"&limit=",10)).then((function(e){return e.json()})).then((function(t){e.setUserPosts(t)}))}),[]),Object(j.jsx)("div",{className:"posts-container",children:e.posts.map((function(t){if(t.title.toUpperCase().includes(e.searchTerm.toUpperCase()))return Object(j.jsxs)("div",{className:"each-post-wrapper hoverable",children:[Object(j.jsx)("div",{className:"post-title",children:t.title}),Object(j.jsx)("div",{className:"view-btn",onClick:function(s){e.setSelectedPostId(t.id),e.history.push("/app/PostDetails")},children:"Read this post"})]},t.id)}))})}))),x=s(15),g=s.p+"static/media/up.725d02f8.svg",N=s.p+"static/media/trash.e515bf19.svg",y=s.p+"static/media/down.2e258fe3.svg",C=(s(37),function(e){return Object(j.jsx)("div",{className:"comment-container",children:e.comments.map((function(e){return Object(j.jsx)("div",{className:"each-comment-wrapper hoverable",children:Object(j.jsx)("div",{children:e.body})},e.id)}))})}),S=(s(38),Object(o.e)((function(e){var t=a.a.useState({}),s=Object(x.a)(t,2),c=s[0],n=s[1],r=a.a.useState(!1),i=Object(x.a)(r,2),o=i[0],l=i[1],d=a.a.useState([]),h=Object(x.a)(d,2),u=h[0],p=h[1];a.a.useEffect((function(){fetch("https://jsonplaceholder.typicode.com/comments?postId=".concat(e.selectedPostId)).then((function(e){return e.json()})).then((function(e){p(e)}));var t=e.posts.find((function(t){return t.id===e.selectedPostId}));n(t)}),[e]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"pd-container",children:[Object(j.jsxs)("div",{className:"pd-header",children:[c.title,Object(j.jsx)("img",{className:"hoverable",height:"20px",src:N,alt:"delete",title:"Delete this post",onClick:function(){fetch("https://jsonplaceholder.typicode.com/posts/".concat(e.selectedPostId),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.history.push("/app/Posts")}))}})]}),Object(j.jsx)("div",{className:"pd-body",children:c.body}),Object(j.jsxs)("div",{className:"pd-comment hoverable",onClick:function(){l(!o)},children:["View Comments (","".concat(u.length),") ",Object(j.jsx)("img",{src:o?g:y,alt:"show comments",height:"16px"})]})]}),o?Object(j.jsx)(C,{comments:u}):null]})}))),P=s.p+"static/media/search-new.440dd42c.svg",T=(s(39),function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(l.a)(this,s),(e=t.call(this)).state={searchTerm:""},e}return Object(d.a)(s,[{key:"handleSearch",value:function(e){this.setState({searchTerm:e}),this.props.searchTerm(e)}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"localSearch",children:Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("img",{src:P,alt:"search",height:"15px"}),Object(j.jsx)("input",{autoFocus:!0,type:"text",className:"form-control",id:"local-search",placeholder:this.props.placeholder,value:this.state.searchTerm,onClick:function(e){e.stopPropagation()},onChange:function(t){t.stopPropagation(),e.handleSearch(t.target.value)}})]})})}}]),s}(n.Component)),I=(s(40),Object(o.e)((function(e){return Object(j.jsx)("div",{className:"header-container",children:Object(j.jsxs)("div",{className:"header-wrapper",children:[Object(j.jsx)("div",{className:"logo-section hoverable",onClick:function(){e.history.push("/")},children:"BLOG POST"}),Object(j.jsxs)("div",{className:"content-section",children:[Object(j.jsx)(T,{placeholder:"Type to search",searchTerm:e.setSearchTerm}),Object(j.jsx)("div",{className:"name",children:"Aviral"})]})]})})})));var U=function(e){return a.a.useEffect((function(){fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(t){e.setUser(t)}))}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(I,{setSearchTerm:e.setSearchTerm}),Object(j.jsx)("div",{className:"body",children:Object(j.jsxs)("div",{className:"body-content",children:[Object(j.jsx)(o.a,{exact:!0,path:"/",render:function(){return f(O)}}),Object(j.jsx)(o.a,{exact:!0,path:"/app/Posts",render:function(){return f(v)}}),Object(j.jsx)(o.a,{exact:!0,path:"/app/PostDetails",render:function(){return f(S)}})]})})]})},w=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,42)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),c(e),n(e),a(e),r(e)}))},k=s(7),E=function(){return Object(j.jsx)(k.a,{children:Object(j.jsx)(b,{children:Object(j.jsx)(p.Consumer,{children:function(e){return Object(j.jsx)(U,Object(c.a)({},e))}})})})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root")),w()}},[[41,1,2]]]);
//# sourceMappingURL=main.6fd0e889.chunk.js.map